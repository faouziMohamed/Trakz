<mat-sidenav-container class="h-full">
  <mat-sidenav
    #drawer
    [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
    [mode]="(isHandset$ | async) ? 'over' : 'side'"
    [opened]="(isHandset$ | async) === false"
    class="w-[12.5rem] !px-2 border-0 bg-inherit"
    fixedInViewport
  >
    <div class="bg-inherit flex !flex-col">
      <!--      *ngIf="isHandset$ | async"-->
      <button
        (click)="drawer.toggle()"
        aria-label="Toggle sidenav"
        mat-icon-button
        type="button"
      >
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <app-user-avatar [email]="email" [name]="name" [picture]="picture">
      </app-user-avatar>
    </div>
    <mat-nav-list
      class="w-full !flex flex-col gap-1 nav-links"
      id="nav-link-list"
    >
      <button
        #rla="routerLinkActive"
        *ngFor="let nav of navLinks"
        [attr.aria-label]="nav.label"
        [ngClass]="rla.isActive ? '!bg-gray-100' : ''"
        [routerLink]="nav.link"
        [title]="nav.label"
        class="relative !h-[2.5rem] p-0 rounded-md !w-full flex items-center h-full"
        mat-list-item
        routerLinkActive=""
      >
        <span
          [ngClass]="rla.isActive ? 'block' : 'hidden'"
          class="absolute left-4 h-1/2 -ml-3 rounded bg-blue-600 w-1"
        >
        </span>
        <mat-icon
          aria-hidden="true"
          class="!text-[0.88rem] !w-[0.88rem] !h-[0.88rem]"
          matListIcon
        >
          {{ nav.icon }}
        </mat-icon>
        <div class="text-sm flex justify-between w-full">
          {{ nav.label }}
          <mat-chip
            class="text-xs rounded-full w-fit h-[1rem] flex items-center justify-center p-2"
          >
            0565
          </mat-chip>
        </div>
      </button>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content class="rounded-2xl bg-gray-100">
    <mat-toolbar class="bg-transparent">
      <div class="flex gap-4 items-center">
        <button
          (click)="drawer.toggle()"
          *ngIf="isHandset$ | async"
          aria-label="Toggle sidenav"
          mat-icon-button
          type="button"
        >
          <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
        </button>
        <a class="flex gap-2 items-center" routerLink="">
          <app-trakz-logo className=" w-[2rem] h-[2rem]"></app-trakz-logo>
          <h1 class="!text-3xl">Trakz</h1>
        </a>
      </div>
    </mat-toolbar>
    <ng-content></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
